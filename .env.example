# =============================================================================
# Claude Assistant Platform - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_NAME=claude-assistant-platform
APP_ENV=development
DEBUG=true
LOG_LEVEL=INFO

# API Settings (localhost only for development)
API_HOST=0.0.0.0
API_PORT=8000
ALLOWED_HOSTS=localhost,127.0.0.1

# -----------------------------------------------------------------------------
# Anthropic API (Required)
# -----------------------------------------------------------------------------
# Get your API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# Model configuration
CLAUDE_MODEL=claude-sonnet-4-20250514

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
POSTGRES_DB=claude_assistant_platform
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-secure-password-here
POSTGRES_HOST=db
POSTGRES_PORT=5432

# Constructed database URL (used by SQLAlchemy)
# DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# -----------------------------------------------------------------------------
# Telegram Bot Configuration
# -----------------------------------------------------------------------------
# This platform supports separate development and production bots to prevent
# conflicts when running locally while a production instance is deployed.
#
# How it works:
#   - TELEGRAM_BOT_TOKEN: Production bot (used when APP_ENV=production/staging)
#   - TELEGRAM_DEV_BOT_TOKEN: Development bot (used when APP_ENV=development)
#   - In development mode, if DEV token is set, it takes precedence
#   - In production mode, only the production token is used
#
# Creating a bot via @BotFather:
#   1. Open Telegram and search for @BotFather
#   2. Send /newbot and follow the prompts
#   3. Copy the bot token provided
#
# Recommended setup:
#   - Create TWO bots: one for prod (e.g., "MyAssistant") and one for dev
#     (e.g., "MyAssistantDev")
#   - Use the dev bot for local development to avoid polling conflicts

# Production bot token (required for deployed instances)
TELEGRAM_BOT_TOKEN=your-production-bot-token-here

# Development bot token (optional, for local development)
# When APP_ENV=development and this is set, this bot will be used instead
# This prevents your local instance from conflicting with the production bot
TELEGRAM_DEV_BOT_TOKEN=your-dev-bot-token-here

# Comma-separated list of allowed Telegram user IDs
# Only users in this list can interact with the bot
# To get your user ID:
#   1. Open Telegram and search for @userinfobot
#   2. Send /start to get your user ID
TELEGRAM_ALLOWED_USER_IDS=123456789,987654321

# Long-polling timeout in seconds (default: 30)
# Higher values reduce API calls but increase latency for shutdown
TELEGRAM_POLLING_TIMEOUT=30

# Enable/disable Telegram integration (default: true)
# Set to false to disable Telegram even if bot token is configured
TELEGRAM_ENABLED=true

# -----------------------------------------------------------------------------
# Telegram MCP Server (internal Docker network - do not change)
# -----------------------------------------------------------------------------
TELEGRAM_MCP_HOST=telegram-mcp
TELEGRAM_MCP_PORT=8080

# -----------------------------------------------------------------------------
# Todo Executor Settings
# -----------------------------------------------------------------------------
# Interval in seconds between checking for pending todos (default: 30)
TODO_EXECUTOR_INTERVAL=30

# Maximum todos to process per execution cycle (default: 5)
TODO_EXECUTOR_BATCH_SIZE=5

# Enable/disable background todo executor (default: true)
TODO_EXECUTOR_ENABLED=true

# -----------------------------------------------------------------------------
# MCP Servers
# -----------------------------------------------------------------------------
# GitHub Personal Access Token
# GITHUB_TOKEN=your-github-pat-here

# -----------------------------------------------------------------------------
# Google Calendar MCP Server
# -----------------------------------------------------------------------------
# OAuth credentials from Google Cloud Console
# Setup steps:
#   1. Go to https://console.cloud.google.com/
#   2. Create a project or select existing
#   3. Enable the Google Calendar API
#   4. Go to APIs & Services > Credentials
#   5. Create OAuth 2.0 Client ID (Desktop application type)
#   6. Copy the client ID and secret below
GOOGLE_CALENDAR_CLIENT_ID=your-google-client-id
GOOGLE_CALENDAR_CLIENT_SECRET=your-google-client-secret

# Default timezone for events (IANA format)
GOOGLE_CALENDAR_DEFAULT_TIMEZONE=America/New_York

# -----------------------------------------------------------------------------
# Gmail MCP Server
# -----------------------------------------------------------------------------
# OAuth credentials from Google Cloud Console
# Can use same project as Google Calendar - just enable Gmail API and add scopes
# Setup steps:
#   1. Use same Google Cloud project as Calendar (or create new)
#   2. Enable the Gmail API
#   3. Add gmail.modify scope to OAuth consent screen
#   4. Use same or separate OAuth credentials
GMAIL_CLIENT_ID=your-google-client-id
GMAIL_CLIENT_SECRET=your-google-client-secret

# Email Configuration (legacy SMTP - not used by Gmail MCP)
# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=587
# EMAIL_USER=your-email@gmail.com
# EMAIL_PASSWORD=your-app-password-here

# Obsidian Vault Path (mounted volume)
# OBSIDIAN_VAULT_PATH=/data/obsidian

# -----------------------------------------------------------------------------
# Frontend Settings
# -----------------------------------------------------------------------------
NEXT_PUBLIC_API_URL=http://localhost:8000
